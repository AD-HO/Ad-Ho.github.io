<!DOCTYPE html>
<html>
<head>
    
    <link href="Challenge/bootstrap.min.css" rel="stylesheet">
      <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    </head>
  <body onmousemove="logPosition(event)">

    <!-- <script src="../Boostrap/popper.min.js"></script>     -->
    <br>
    <div class="row text-center">
        <h1>Sham Challenge</h1>

        <div class="col-2">
            
        </div>
        <div class="col-8">
            <div class="row">
        <div class="col-3" id="image1" style="padding: 0 0 0 0; ">
            <div id="carouselExampleFade" style="margin: 0 0 0 0 ;" class="carousel slide carousel-fade"
                data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img style="height: 100px;max-width:100px" id="image1Active"
                            src="" class="d-block w-100"
                            alt="...">
                    </div>


                </div>


            </div>
        </div>
        <div class="col-1"></div>
        <div class="col-3" id="image2" style="padding: 0 0 0 0; ">
            <div id="carouselExampleFade" style="margin: 0 0 0 0 ;" class="carousel slide carousel-fade"
                data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img style="height: 100px;max-width:100px" id="image2Active"
                            src="" class="d-block w-100"
                            alt="...">
                    </div>


                </div>


            </div>
        </div>
        <div class="col-1"></div>

        <div class="col-3" id="image3" style="padding: 0 0 0 0; ">
            <div id="carouselExampleFade" style="margin: 0 0 0 0 ;" class="carousel slide carousel-fade"
                data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img style="height: 100px;max-width:100px" id="image3Active"
                            src="" class="d-block w-100"
                            alt="...">
                    </div>


                </div>


            </div>
        </div>
        <div class="col-12"><br></div>

        <div class="col-3" id="image4" style="padding: 0 0 0 0; ">
            <div id="carouselExampleFade" style="margin: 0 0 0 0 ;" class="carousel slide carousel-fade"
                data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img style="height: 100px;max-width:100px" id="image4Active"
                            src="" class="d-block w-100"
                            alt="...">
                    </div>


                </div>


            </div>
        </div>
        <div class="col-1"></div>

        <div class="col-3" id="image5" style="padding: 0 0 0 0; ">
            <div id="carouselExampleFade" style="margin: 0 0 0 0 ;" class="carousel slide carousel-fade"
                data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img style="height: 100px;max-width:100px" id="image5Active"
                            src="" class="d-block w-100"
                            alt="...">
                    </div>


                </div>


            </div>
        </div>
        <div class="col-1"></div>

        <div class="col-3" id="image6" style="padding: 0 0 0 0; ">
            <div id="carouselExampleFade" style="margin: 0 0 0 0 ;" class="carousel slide carousel-fade"
                data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img style="height: 100px;max-width:100px" id="image6Active"
                            src="" class="d-block w-100"
                            alt="...">
                    </div>


                </div>


            </div>
        </div>
        <div class="col-12"><br></div>

        <div class="col-3" id="image7" style="padding: 0 0 0 0; ">
            <div id="carouselExampleFade" style="margin: 0 0 0 0 ;" class="carousel slide carousel-fade"
                data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img style="height: 100px;max-width:100px" id="image7Active"
                            src="" class="d-block w-100"
                            alt="...">
                    </div>


                </div>


            </div>
        </div>
        <div class="col-1"></div>

        <div class="col-3" id="image8" style="padding: 0 0 0 0; ">
            <div id="carouselExampleFade" style="margin: 0 0 0 0 ;" class="carousel slide carousel-fade"
                data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img style="height: 100px;max-width:100px" id="image8Active"
                            src="" class="d-block w-100"
                            alt="...">
                    </div>


                </div>


            </div>
        </div>
    </div>
</div>
        <div class="col-2">

        </div>
  

    </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>


<script src="Challenge/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
    crossorigin="anonymous"></script>

<script src="Challenge/bootstrap.min.js"></script>


<script>
    CURSOR_X = 0
    CURSOR_Y = 0
    var elt1 = document.getElementById("image1Active");
    var elt2 = document.getElementById("image2Active");
    var elt3 = document.getElementById("image3Active");
    var elt4 = document.getElementById("image4Active");
    var elt5 = document.getElementById("image5Active");
    var elt6 = document.getElementById("image6Active");
    var elt7 = document.getElementById("image7Active");
    var elt8 = document.getElementById("image8Active");



    var image1_data = {
        "id": "image1Active",
        "X": getPos(elt1)['X'],
        "Y": getPos(elt1)['Y'],
        "height": elt1.offsetHeight,
        "width": elt1.offsetWidth,
        'right': "./assets/right.png",
        'left': "./assets/left.png",
        'top': "./assets/top.png",
        'bottom': "./assets/bottom.png",
        'top_right': "./assets/top-right.png",
        'top_left': "./assets/top-left.png",
        'bottom_right': "./assets/bottom-right.png",
        'bottom_left': "./assets/bottom-left.png",
        'center': "./assets/straight.png",
    }

    var image2_data = {
        "id": "image2Active",
        "X": getPos(elt2)['X'],
        "Y": getPos(elt2)['y'],
        "height": elt2.offsetHeight,
        "width": elt2.offsetWidth,
        'right': "./assets/right.png",
        'left': "./assets/left.png",
        'top': "./assets/top.png",
        'bottom': "./assets/bottom.png",
        'top_right': "./assets/top-right.png",
        'top_left': "./assets/top-left.png",
        'bottom_right': "./assets/bottom-right.png",
        'bottom_left': "./assets/bottom-left.png",
        'center': "./assets/straight.png",
    }
    var image3_data = {
        "id": "image3Active",
        "X": getPos(elt3)['X'],
        "Y": getPos(elt3)['y'],
        "height": elt3.offsetHeight,
        "width": elt3.offsetWidth,
        'right': "./assets/right.png",
        'left': "./assets/left.png",
        'top': "./assets/top.png",
        'bottom': "./assets/bottom.png",
        'top_right': "./assets/top-right.png",
        'top_left': "./assets/top-left.png",
        'bottom_right': "./assets/bottom-right.png",
        'bottom_left': "./assets/bottom-left.png",
        'center': "./assets/straight.png",
    }

    var image4_data = {
        "id": "image4Active",
        "X": getPos(elt4)['X'],
        "Y": getPos(elt4)['y'],
        "height": elt4.offsetHeight,
        "width": elt4.offsetWidth,
        'right': "./assets/right.png",
        'left': "./assets/left.png",
        'top': "./assets/top.png",
        'bottom': "./assets/bottom.png",
        'top_right': "./assets/top-right.png",
        'top_left': "./assets/top-left.png",
        'bottom_right': "./assets/bottom-right.png",
        'bottom_left': "./assets/bottom-left.png",
        'center': "./assets/straight.png",
    }

    var image5_data = {
        "id": "image5Active",
        "X": getPos(elt5)['X'],
        "Y": getPos(elt5)['y'],
        "height": elt5.offsetHeight,
        "width": elt5.offsetWidth,
        'right': "./assets/right.png",
        'left': "./assets/left.png",
        'top': "./assets/top.png",
        'bottom': "./assets/bottom.png",
        'top_right': "./assets/top-right.png",
        'top_left': "./assets/top-left.png",
        'bottom_right': "./assets/bottom-right.png",
        'bottom_left': "./assets/bottom-left.png",
        'center': "./assets/straight.png",
    }

    var image6_data = {
        "id": "image6Active",
        "X": getPos(elt6)['X'],
        "Y": getPos(elt6)['y'],
        "height": elt6.offsetHeight,
        "width": elt6.offsetWidth,
        'right': "./assets/right.png",
        'left': "./assets/left.png",
        'top': "./assets/top.png",
        'bottom': "./assets/bottom.png",
        'top_right': "./assets/top-right.png",
        'top_left': "./assets/top-left.png",
        'bottom_right': "./assets/bottom-right.png",
        'bottom_left': "./assets/bottom-left.png",
        'center': "./assets/straight.png",
    }
    var image7_data = {
        "id": "image7Active",
        "X": getPos(elt7)['X'],
        "Y": getPos(elt7)['y'],
        "height": elt7.offsetHeight,
        "width": elt7.offsetWidth,
        'right': "./assets/right.png",
        'left': "./assets/left.png",
        'top': "./assets/top.png",
        'bottom': "./assets/bottom.png",
        'top_right': "./assets/top-right.png",
        'top_left': "./assets/top-left.png",
        'bottom_right': "./assets/bottom-right.png",
        'bottom_left': "./assets/bottom-left.png",
        'center': "./assets/straight.png",
    }
    var image8_data = {
        "id": "image8Active",
        "X": getPos(elt8)['X'],
        "Y": getPos(elt8)['y'],
        "height": elt8.offsetHeight,
        "width": elt8.offsetWidth,
        'right': "./assets/right.png",
        'left': "./assets/left.png",
        'top': "./assets/top.png",
        'bottom': "./assets/bottom.png",
        'top_right': "./assets/top-right.png",
        'top_left': "./assets/top-left.png",
        'bottom_right': "./assets/bottom-right.png",
        'bottom_left': "./assets/bottom-left.png",
        'center': "./assets/straight.png",
    }

    function UpdatePosition(image_data, elt) {

        image_data["height"] = elt.offsetHeight
        image_data["width"] = elt.offsetWidth

        image_data['X'] = getPos(elt)['x']//+image_data["widht"]
        image_data['Y'] = getPos(elt)['y']//-image_data["height"]

    }

    function UpdateImage(image_data) {

        //TOP PART

        var right = CURSOR_X > (image_data['X'] + image_data.width)
        var left = CURSOR_X < (image_data['X'])
        var bottom = CURSOR_Y > (image_data['Y'] + image_data.height)
        var top = CURSOR_Y < (image_data['Y'])
        var center = (CURSOR_X > image_data['X']) && CURSOR_X < (image_data['X'] + image_data.width) && (CURSOR_Y > (image_data['Y'])) && (CURSOR_Y < (image_data['Y'] + image_data.height))
        var image_elt = document.getElementById(image_data['id'])
        var decided = false
        if (right && top && !decided)//right
        {
            console.log("Right Top")
            image_elt.src = image_data['top_right']
            decided = true;

        }
        if (left && top && !decided) {
            console.log("Left Top")
            image_elt.src = image_data['top_left']
            decided = true;


        }
        if (right && bottom && !decided) {
            console.log("right Bottom")
            image_elt.src = image_data['bottom_right']

            decided = true;

        }
        if (left && bottom && !decided) {
            image_elt.src = image_data['bottom_left']

            console.log("Left bottom")
            decided = true;

        }
        if (top && !decided) {
            console.log("TOP")
            image_elt.src = image_data['top']
            decided = true;

        }
        if (bottom && !decided) {
            console.log("bottom")
            image_elt.src = image_data['bottom']
            decided = true;
        }
        if (left && !decided) {
            console.log("left")
            image_elt.src = image_data['left']
            decided = true;


        }
        if (right && !decided) {
            console.log("right")
            image_elt.src = image_data['right']
            decided = true;


        }
        if (center && !decided) {
            console.log("center")
            image_elt.src = image_data['center']
            decided = true;


        }



    }

    function calculAngle1(x, y) {
        var dy = CURSOR_Y - x;
        var dx = CURSOR_X - y;
        var theta = Math.atan2(dy, dx); // range (-PI, PI]
        theta *= 180 / Math.PI; // rads to degs, range (-180, 180]
        //if (theta < 0) theta = 360 + theta; // range [0, 360)
        return theta;

    }
    function logPosition(e) {
        CURSOR_X = e.clientX
        CURSOR_Y = e.clientY
        UpdatePosition(image1_data, elt1)
        UpdatePosition(image2_data, elt2)
        UpdatePosition(image3_data, elt3)
        UpdatePosition(image4_data, elt4)
        UpdatePosition(image5_data, elt5)
        UpdatePosition(image6_data, elt6)
        UpdatePosition(image7_data, elt7)
        UpdatePosition(image8_data, elt8)
        UpdateImage(image1_data)
        UpdateImage(image2_data)
        UpdateImage(image3_data)
        UpdateImage(image4_data)
        UpdateImage(image5_data)
        UpdateImage(image6_data)
        UpdateImage(image7_data)
        UpdateImage(image8_data)

        //console.log(calculAngle1())
        console.log("X=", CURSOR_X, " Y=", CURSOR_Y)
        console.log("XImage=", image8_data['X'], " YImage=", image8_data['Y'])


    }
    function getPos(el) {
        // yay readability
        for (var lx = 0, ly = 0;
            el != null;
            lx += el.offsetLeft, ly += el.offsetTop, el = el.offsetParent);
        return { x: lx, y: ly };
    }
    logPosition()
</script>
      
</body>

</html>
